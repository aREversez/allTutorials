　　写在前

　　几年前还没工作的时候，长期混迹于百度“恐怖片吧”和“电锯惊魂吧”。因喜欢看电影，也自学了RMVB内嵌字幕的压制。

　　偶然机会加入@谢耳朵字幕组，因RMVB过于陈旧，人人影视所有美剧也全面抛弃了RMVB，转用MP4代替，字幕组管理员希望能顺应潮流，所以借此机会，重新翻人人影视的压制资料学习。

　　但资料较老，软件较新，特此整理一篇文章，自己存个档，也方便有兴趣的人学习。因为非专业出身，文章中很多配置知其然而不知其所以然，无法透彻讲解，还请见谅。

　　教程中部分图片显示较小，可用各种方法查看原图，作者不提供任何解决方法 :P

　　软件下载

　　所需软件下载链接：链接: https://pan.baidu.com/s/1sjQLknz 密码: 65je

　　按顺序安装，如果有最新版本强迫症的，可自行搜索软件名称下载最新版。

　　首先安装第一个：K-Lite_Codec_Pack_1005_Mega.exe，这是解码器。唯一两处要注意的，其它就一路Next



　　接着安装：ac3filter_2_6_0b.exe和AviSynth_2.6.0.exe，一个是音效插件，一个是视频后期处理工具。没有要注意的，一路默认安装

　　接着解压：YYeTs_After_Tools.zip，这个是人人影视做的一个AVS生成工具，之后会使用，暂时不用管

　　接着安装：mkvtoolnix-unicode-6.4.1-setup.exe，这是mkv打包工具，安装好后把MKVExtractGUI-2.2.2.8.zip解压到mkvtoolnix的安装目录里，我们主要使用MKVExtractGUI，用它来分离mkv文件的音频

　　最后安装：MeGUI 2395 中文版 setup.exe，这货就是我们主要的压制工具，中文版也是百度“megui吧”里强人翻译的，在很多压制教程里，提供的是英文原版，对于我这种小白用户，有中文就用中文的吧

　　下载片源

　　一般我们字幕组是去天天美剧下载生肉，生肉就是没有压制过，没有字幕的片源

　　注意，要压制MP4和HR-HDTV，需要下载720P的片源。如：http://www.ttmeiju.com/seed/27014.html

　　素材整理

　　这里就不详细描述ASS特效字幕的处理了，特效字幕就像网页上CSS一样，各大网站论坛都有各自专用的特效字幕代码，你可以自己学习编写，可以搜索一些现成的ASS代码。需要注意的是，特效字幕里用到的字体，确保压制的电脑里安装过，不然压制出来的最终效果会以默认宋体显示。当然字幕文件编码不正确，也会导致字体无法调用到，因为情况较多，自己慢慢摸索吧。

　　首先将下载好的720P的MKV文件分离出音频，打开MKVExtractGUI2，在Input File里选择mkv文件，然后勾选音频，点击Extract



　　分离好后，我们打开YYeTs_After_Tools，选择视频，还是下载的mkv文件，然后选择字幕，这里我已经有一份处理好的ass特效字幕，接着在底下输出AVS版本里选择剧集：RMVB剧集和HR-HDTV，最后点击生成avs。



　　生成好2个avs文件后，我们的素材就都已经准备完毕了

　　压制软件配置

　　首先我们打开MeGUI，当然要先配置一些信息，打开“选项”——“设置”——“外部程序配置”，修改你的线程数，也就是电脑的CPU的核心数，比如我的是4核，然后保存退出。



　　接着我们需要配置两套编码，一套用于MP4压制，一套用于HR-HDTV压制。先介绍MP4，在主界面选择“x264: *scratechpad*”，然后点击右侧“配置”



　　里面一共有5个tab页，这里我就无法说明太多了，大家按照图中的对照配置吧，简单的可以说下，700是码率，MP4码率为700，HR-HDTV码率为1200，这个也是人人影视提供的数值。配置好后点“新建”，输入一个名字，方便点就输入“MP4”。



　　上面是视频编码的配置，接着配置音频编码，还是在主界面选择“Nero AAC: *scratchpad*”，点“配置”



　　接着按照如下配置，最后点“新建”，输入“MP4”



　　配置好MP4的视频、音频编码设置，然后来配置HR-HDTV的配置，还是一样，在主界面选择“x264: *scratechpad*”，然后点击右侧“配置”



　　里面的配置还是看图吧，稍微有点不同。



　　接着是音频的，在主界面选择“FFmpeg AC-3: *scratchpad*”，点“配置”



　　然后按照如下配置好后新建



　　至此，所有配置均以配置完毕。

　　压制视频

　　很激动吧，终于到这一步了。我们打开MeGUI，在主页面上选择好我们之前配置好的信息



　　接着我们在AviSynth脚本那选择我们之前生成好的avs脚本。注意，压制MP4就选择那个RMVB的脚本，压制HR-HDTV就还是选择HR-HDTV的脚本。选择好后会立马弹出一个视频预览的窗口，点击PLAY就可以预览，可以看下字幕是否正常，OK后关闭那个窗口即可。



　　其它内容都不用再操作，软件都会自动载入，如果音频那没有内容，那就在音频载入处手动再载入下AVS文件即可。确认好后点击右下角的自动编码，会出现下面这个窗口



　　在“大小和比特率”里选择“没有目标大小”，然后点击“队列”，就会开始压制了



　　HR-HDTV的压制稍微不同，还是在主页面选择AVS，注意选择我们之前设置好的编码，并且文件输出也修改成MKV，除此之外，音频需要我们手动载入之前分离出来的ac3格式的音频，同样要选择之前配置好的编码设置



　　选择好后点“自动编码”，这里和压制MP4基本一样，只是封装格式那要选择“MKV”，然后点“队列”，就会开始压制



　　补充一点：如果压制HR-HDTV时，不想对音频进行压制，而是直接封装进MKV里，那就在主界面载入AVS后不要载入音频，直接点“自动编码”，然后在这个窗口里勾选“添加额外的内容”，并点击“队列”



　　在这个界面里，选择我们之前分离出来的音频，点击Go，就会开始压制

